# Python, ООП

## Magic или dunder методы
Магическими методы называют методы, имена которых начинаются и заканчиваются двойным подчеркиванием. 
Магические они потому, что почти никогда не вызываются явно. 
Их вызывают встроенные функции или синтаксические конструкции.

### Методы для инициализации и конструктора
|   Метод    |               Аргументы               |        Описание         |
|:----------:|:-------------------------------------:|:-----------------------:|
| `__init__` |             `cls` `other`             |  Инициализация объекта  |
| `__new__`  |            `self` `other`             | Создание нового объекта |
| `__del__`  |                `self`                 |    Удаление объекта     |

#### Разница между `__new__` и `__init__`
Основное различие между этими двумя методами состоит в том, что `__new__` обрабатывает создание объекта, 
а `__init__` обрабатывает его инициализацию.

`__new__` вызывается автоматически при вызове имени класса (при создании экземпляра), 
тогда как `__init__` вызывается каждый раз, когда экземпляр класса возвращается `__new__`, 
передавая возвращаемый экземпляр в `__init__` в качестве параметра self, 
поэтому даже если вы сохранили экземпляр где-нибудь глобально/статически и возвращали его каждый раз из `__new__`, 
для него все-равно будет каждый раз вызываться `__init__`.



### Унарные операторы и функции
|    Метод     | Аргументы  |                         Описание                          |
|:------------:|:----------:|:---------------------------------------------------------:|
|  `__pos__`   |   `self`   |            Вызывается при использовании `+obj`            |
|  `__neg__`   |   `self`   |            Вызывается при использовании `-obj`            |
|  `__abs__`   |   `self`   |  Вызывается при использовании встроенной функции `abs()`  |
| `__invert__` |   `self`   |    Вызывается при использовании оператора инверсии `~`    |
| `__round__`  | `self` `n` | Вызывается при использовании встроенной функции `round()` |
| `__floor__`  |   `self`   |    Вызывается при использовании функции `math.floor()`    |
|  `__ceil__`  |   `self`   |    Вызывается при использовании функции `math.ceil()`     |
| `__trunc__`  |   `self`   |    Вызывается при использовании функции `math.trunc()`    |

### Расширенное присвоение
|      Метод      |   Аргументы    |                              Описание                              |
|:---------------:|:--------------:|:------------------------------------------------------------------:|
|   `__iadd__`    | `self` `other` |         Вызывается при суммировании с присвоением `a += b`         |
|   `__isub__`    | `self` `other` |          Вызывается при вычитании с присвоением `a -= b`           |
|   `__imul__`    | `self` `other` |          Вызывается при умножении с присвоением `a *= b`           |
| `__ifloordiv__` | `self` `other` |   Вызывается при целочисленном делении с присвоением  `a //= b`    |
|   `__idiv__`    | `self` `other` |           Вызывается при делении с присвоением `a /= b`            |
| `__itruediv__`  | `self` `other` |           Вызывается при делении с присвоением `a /= b`            |
|   `__imod__`    | `self` `other` |      Вызывается при делении по модулю с присвоением `a %= b`       |
|   `__ipow__`    | `self` `other` |    Вызывается при возведении в степень с присвоением `a **= b`     |
|  `__ilshift__`  | `self` `other` |   Вызывается при побитовом сдвиге влево с присвоением `a <<= b`    |
|  `__irshift__`  | `self` `other` |   Вызывается при побитовом сдвиге вправо с присвоением `a <<= b`   |
|   `__iand__`    | `self` `other` |        Вызывается при побитовом AND с присвоением `a &= b`         |
|    `__ior__`    | `self` `other` | Вызывается при побитовом OR с присвоением <code>a &#124;= b</code> |
|   `__ixor__`    | `self` `other` |        Вызывается при побитовом XOR с присвоением `a ^= b`         |

### Методы преобразования типов
|     Метод     | Аргументы |                                          Описание                                           |
|:-------------:|:---------:|:-------------------------------------------------------------------------------------------:|
|   `__int__`   |  `self`   |        Вызывается при использовании метода `int()` для преобразования к целому числу        |
|  `__float__`  |  `self`   | Вызывается при использовании метода `float()` для преобразования к числу с плавающей точкой |
| `__complex__` |  `self`   |   Вызывается при использовании метода `complex()` для преобразования к комплексному числу   |
|   `__oct__`   |  `self`   |    Вызывается при использовании метода `oct()` для преобразования к восьмеричному числу     |
|   `__hex__`   |  `self`   |  Вызывается при использовании метода `hex()` для преобразования к шестнадцатеричному числу  |
|  `__index__`  |  `self`   |  Вызывается для преобразования к целому числу когда объект используется в выражении среза   |
|  `__trunc__`  |  `self`   |                     Вызывается при использовании метода `math.trunc()`                      |

### Строковые методы
|     Метод     |     Аргументы      |                       Описание                        |
|:-------------:|:------------------:|:-----------------------------------------------------:|
|   `__str__`   |       `self`       |      Вызывается при использовании метода `str()`      |
|  `__repr__`   |       `self`       |     Вызывается при использовании метода `repr()`      |
| `__unicode__` |       `self`       |    Вызывается при использовании метода `unicode()`    |
| `__format__`  | `self` `formatstr` |  Вызывается при использовании метода `str.format()`   |
|  `__hash__`   |       `self`       |     Вызывается при использовании метода `hash()`      |
| `__nonzero__` |       `self`       |     Вызывается при использовании метода `bool()`      |
|   `__dir__`   |       `self`       |      Вызывается при использовании метода `dir()`      |
| `__sizeof__`  |       `self`       | Вызывается при использовании метода `sys.getsizeof()` |

### Методы атрибутов
|     Метод     |       Аргументы       |                 Описание                  |
|:-------------:|:---------------------:|:-----------------------------------------:|
| `__getattr__` |     `self` `name`     | Вызывается для получения атрибута класса  |
| `__setattr__` | `self` `name` `value` | Вызывается для присвоения атрибута классу |
| `__delattr__` |     `self` `name`     |  Вызывается для удаления атрибута класса  |

### Методы математических операторов
|     Метод      |       Аргументы       |                  Описание                   |
|:--------------:|:---------------------:|:-------------------------------------------:|
|   `__add__`    |        `other`        | Вызывается при использовании оператора `+`  |
|   `__sub__`    |        `other`        | Вызывается при использовании оператора `-`  |
|   `__mul__`    |        `other`        | Вызывается при использовании оператора `*`  |
| `__floordiv__` |        `other`        | Вызывается при использовании оператора `//` |
| `__truediv__`  |        `other`        | Вызывается при использовании оператора `/`  |
|   `__div__`    |        `other`        | Вызывается при использовании оператора `/`  |
|   `__mod__`    |        `other`        | Вызывается при использовании оператора `%`  |
|   `__pow__`    | `other` `modulo=None` | Вызывается при использовании оператора `**` |
|    `__lt__`    |        `other`        | Вызывается при использовании оператора `<`  |
|    `__le__`    |        `other`        | Вызывается при использовании оператора `<=` |
|    `__eq__`    |        `other`        | Вызывается при использовании оператора `==` |
|    `__ne__`    |        `other`        | Вызывается при использовании оператора `!=` |
|    `__gt__`    |        `other`        | Вызывается при использовании оператора `>`  |
|    `__ge__`    |        `other`        | Вызывается при использовании оператора `>=` |
